To test performance, use the perf_monitor.sh to regiter data in an independent way.





* Performance v0.0.3
Using hipe, 64 bit and compiling only er_zauker_util as native (default configuration)
we can reach 300  parallel connections to redis and 4 files per second.

On already indexed files (When we are just checking md5) performance are a lot higher.

| Files processed | Files/Sec | Scope                                     |
|             772 |     3.197 | All new                                   |
|            1002 |     3.940 | All new                                   |
|            1002 |    40.420 | All already indexed                       |
|                 |           | Mixed scenario: 1002 file already indexed |
|                 |           |                                           |



* Performance v0.1.0

Run
ER_TEST_PROJECT=/usr/local/lib/erlang/lib/wx-2.0 make benchmark

** Performace for
time ER_TEST_PROJECT=/usr/local/lib/erlang/lib/ make benchmark

[933]s Workers[14]  Files processed:1327 Files/sec: 1.422293676312969 
[934]s Workers[11]  Files processed:1330 Files/sec: 1.423982869379015 
[935]s Workers[7]  Files processed:1334 Files/sec: 1.4267379679144385 
[936]s Workers[5]  Files processed:1336 Files/sec: 1.4273504273504274 
[938]s Workers[2]  Files processed:1339 Files/sec: 1.427505330490405 
[939]s Workers[0]  Files processed:1341 Files/sec: 1.428115015974441 
[940]s All workers terminated
FUNCTION                                                 CALLS        %        TIME  [uS / CALLS]
--------                                                 -----  -------        ----  [----------]
erl_eval:bif/5                                               1     0.00           0  [      0.00]
erl_eval:eval_op/6                                           1     0.00           0  [      0.00]
erl_internal:bif/2                                           1     0.00           0  [      0.00]
filelib:fold_files/5                                         1     0.00           0  [      0.00]
erlang:self/0                                                1     0.00           0  [      0.00]
supervisor:start_child/2                                     1     0.00           0  [      0.00]
supervisor:call/2                                            1     0.00           0  [      0.00]
filelib:do_fold_files/6                                      1     0.00           1  [      1.00]
er_zauker_app:wait_worker_done/0                             1     0.00           1  [      1.00]
inet_gethost_native:do_start/2                               1     0.00           1  [      1.00]
erl_internal:bif/3                                           2     0.00           2  [      1.00]
erlang:'!'/2                                                 1     0.00           2  [      2.00]
re:ucompile/2                                                1     0.00           2  [      2.00]
erl_eval:expr_list/4                                         4     0.00           3  [      0.75]
lists:foldl/3                                                6     0.00           4  [      0.67]
orddict:to_list/1                                            6     0.00           4  [      0.67]
erl_eval:exprs/5                                             3     0.00           6  [      2.00]
er_zauker_app:indexDirectory/1                               1     0.00           7  [      7.00]
erl_eval:ret_expr/3                                         12     0.00          10  [      0.83]
erl_eval:do_apply/6                                          4     0.00          13  [      3.25]
erl_eval:expr_list/6                                         7     0.00          13  [      1.86]
erl_eval:merge_bindings/2                                    6     0.00          13  [      2.17]
re:compile/2                                                 2     0.00          22  [     11.00]
code:call/1                                                 35     0.00          25  [      0.71]
gen_server:cast_msg/1                                      312     0.00          30  [      0.10]
prim_inet:type_value/2                                     312     0.00          32  [      0.10]
erlang:module_loaded/1                                      35     0.00          33  [      0.94]
erl_eval:expr/5                                             12     0.00          35  [      2.92]
code:ensure_loaded/1                                        35     0.00          50  [      1.43]
proc_lib:exit_reason/3                                     312     0.00          51  [      0.16]
prim_inet:dec_opt/1                                        312     0.00          59  [      0.19]
error_handler:ensure_loaded/1                               35     0.00          66  [      1.89]
prim_inet:rev/1                                            312     0.00          71  [      0.23]
error_handler:undefined_function/3                          35     0.00          75  [      2.14]
gen_server:cast/2                                          312     0.00          97  [      0.31]
prim_inet:enc_value/2                                      312     0.00         114  [      0.37]
gen_server:terminate_reason/3                              312     0.00         121  [      0.39]
proc_lib:crash_report/4                                    312     0.00         126  [      0.40]
gen_server:terminate/8                                     312     0.00         132  [      0.42]
code_server:call/1                                          35     0.00         160  [      4.57]
io_lib_format:precision/2                                 1276     0.00         178  [      0.14]
io_lib_format:adjust/3                                    1276     0.00         183  [      0.14]
io_lib_format:pad_char/2                                  1276     0.00         225  [      0.18]
lists:duplicate/2                                          450     0.00         239  [      0.53]
eredis:stop/1                                              312     0.00         256  [      0.82]
filelib:eval_list_dir/2                                    283     0.00         274  [      0.97]
io_lib_format:chars/2                                     1276     0.00         276  [      0.22]
io_lib_format:base/1                                      1276     0.00         281  [      0.22]
io_lib_format:build/1                                     1276     0.00         293  [      0.23]
eredis_client:stop/1                                       312     0.00         317  [      1.02]
prim_inet:getopt/2                                         312     0.00         331  [      1.06]
io_lib_format:modifiers/2                                 1276     0.00         336  [      0.26]
prim_inet:decode_subs/1                                    312     0.00         340  [      1.09]
gen_server:do_cast/2                                       312     0.00         345  [      1.11]
er_zauker_rpool:releaseConnection/1                        312     0.00         360  [      1.15]
prim_inet:decode_opt_val/1                                 312     0.00         363  [      1.16]
io_lib_format:field_width/3                               1276     0.00         369  [      0.29]
prim_inet:encode_opts/1                                    312     0.00         390  [      1.25]
prim_inet:encode_subs/1                                    312     0.00         391  [      1.25]
io_lib_format:cond_lowercase/2                            1276     0.00         393  [      0.31]
erlang:min/2                                              1276     0.00         408  [      0.32]
prim_inet:enc_opts/1                                       624     0.00         416  [      0.67]
inet_parse:visible_string/1                               1340     0.00         427  [      0.32]
prim_inet:enc_subs/1                                       624     0.00         430  [      0.69]
gen_tcp:close/1                                            312     0.00         433  [      1.39]
erlang:function_exported/3                                 347     0.00         439  [      1.27]
prim_inet:enc_family/1                                    1340     0.00         459  [      0.34]
gen_server:do_send/2                                       312     0.00         461  [      1.48]
eredis_client:terminate/2                                  312     0.00         468  [      1.50]
file:list_dir/1                                            283     0.00         475  [      1.68]
io_lib_format:collect_cc/2                                1276     0.00         479  [      0.38]
prim_inet:dec_subs/1                                       624     0.00         489  [      0.78]
inet:connect_options/0                                    1340     0.00         497  [      0.37]
io_lib_format:scan/2                                      1276     0.00         504  [      0.39]
prim_inet:enc_type/1                                      1340     0.00         506  [      0.38]
erlang:port_close/1                                        312     0.00         513  [      1.64]
filelib:do_fold_files1/7                                   283     0.00         515  [      1.82]
filelib:do_is_dir/2                                        282     0.00         516  [      1.83]
inet:tcp_close/1                                           312     0.00         526  [      1.69]
eredis_client:select_database/2                           1340     0.00         536  [      0.40]
gen:name/1                                                1340     0.00         545  [      0.41]
prim_inet:dec_opt_val/3                                    312     0.00         545  [      1.75]
inet:gen_tcp_module/2                                     1340     0.00         546  [      0.41]
inet_gethost_native:expand_default_name/2                 1340     0.00         549  [      0.41]
prim_inet:getopts/2                                        312     0.00         553  [      1.77]
inet:tcp_module/2                                         1340     0.00         555  [      0.41]
inet_tcp:check_ip_format/1                                1340     0.00         561  [      0.42]
prim_inet:protocol2drv/1                                  1340     0.00         564  [      0.42]
eredis_parser:do_parse_multibulk/2                        1022     0.00         569  [      0.56]
prim_inet:open/4                                          1340     0.00         572  [      0.43]
inet_gethost_native:ndx/2                                 1340     0.00         583  [      0.44]
inet_gethost_native:getit/4                               1340     0.00         584  [      0.44]
er_zauker_util:iolist_equal/2                              254     0.00         590  [      2.32]
er_zauker_rpool:handle_cast/2                              312     0.00         592  [      1.90]
prim_inet:dec_opt_val/1                                    624     0.00         619  [      0.99]
io_lib_format:count_small/1                               1276     0.00         623  [      0.49]
er_zauker_util:increment_processed_files_counter/1         312     0.00         643  [      2.06]
erlang:send/2                                              312     0.00         658  [      2.11]
prim_inet:close/1                                          312     0.00         659  [      2.11]
prim_inet:ip4_to_bytes/1                                  1340     0.00         663  [      0.49]
gen:init_it/6                                             1340     0.00         676  [      0.50]
inet_gethost_native:pick_names/1                          1340     0.00         680  [      0.51]
prim_inet:enc_time/1                                      1340     0.00         688  [      0.51]
erlang:port_set_data/2                                    1340     0.00         700  [      0.52]
inet:tcp_module_1/2                                       1340     0.00         700  [      0.52]
inet_tcp:connect/4                                        1340     0.00         717  [      0.54]
gen_server:terminate/10                                    312     0.00         721  [      2.31]
proc_lib:trans_init/3                                     1340     0.00         735  [      0.55]
gen:call/3                                                1652     0.00         749  [      0.45]
erlang:group_leader/0                                     1615     0.00         749  [      0.46]
inet_db:res_optname/1                                     1340     0.00         772  [      0.58]
inet_gethost_native:gethostbyname/2                       1340     0.00         811  [      0.61]
inet:mod/4                                                1340     0.00         816  [      0.61]
sets:filter/2                                             1022     0.00         817  [      0.80]
inet_tcp:getserv/1                                        1340     0.00         818  [      0.61]
erlang:make_ref/0                                         1340     0.00         821  [      0.61]
inet:gethostbyname_tm/4                                   1340     0.00         836  [      0.62]
erlang:list_to_atom/1                                      312     0.00         841  [      2.70]
io:format/3                                               1615     0.00         869  [      0.54]
inet_tcp:getaddrs/2                                       1340     0.00         870  [      0.65]
queue:new/0                                               1340     0.00         874  [      0.65]
proc_lib:exit_p/3                                          312     0.00         875  [      2.80]
crypto:max_bytes/0                                        1276     0.00         884  [      0.69]
gen_server:try_terminate/3                                 312     0.00         915  [      2.93]
crypto:hash_final/1                                        472     0.00         918  [      1.94]
inet:gethostbyname_tm/5                                   1340     0.00         954  [      0.71]
eredis:start_link/5                                       1340     0.00         956  [      0.71]
crypto:hash_init/1                                         472     0.00        1022  [      2.17]
er_zauker_util:get_unique_id/1                             261     0.00        1036  [      3.97]
eredis:start_link/4                                       1340     0.00        1062  [      0.79]
prim_inet:subscribe/2                                      312     0.00        1088  [      3.49]
prim_inet:close_port/1                                     312     0.00        1101  [      3.53]
eredis:start_link/6                                       1340     0.00        1101  [      0.82]
proc_lib:make_dummy_args/2                                 624     0.00        1141  [      1.83]
sets:mk_seg/1                                             1022     0.00        1142  [      1.12]
erlang:monotonic_time/1                                    593     0.00        1161  [      1.96]
gen:start/5                                               1340     0.00        1173  [      0.88]
inet_tcp:translate_ip/1                                   1340     0.00        1196  [      0.89]
eredis:start_link/0                                       1340     0.00        1197  [      0.89]
inet:translate_ip/2                                       1340     0.00        1225  [      0.91]
eredis_client:authenticate/2                              1340     0.00        1238  [      0.92]
prim_inet:dec_value_tuple/4                                936     0.00        1260  [      1.35]
gen_server:start_link/3                                   1340     0.00        1266  [      0.94]
prim_inet:enc_opts/2                                       312     0.00        1286  [      4.12]
proc_lib:get_ancestors/0                                  1340     0.00        1321  [      0.99]
io_lib:chars_length/1                                     1276     0.00        1372  [      1.08]
io_lib_format:field_value/2                               2552     0.00        1400  [      0.55]
prim_inet:rev/2                                            936     0.00        1438  [      1.54]
eredis_client:start_link/6                                1340     0.00        1439  [      1.07]
sets:maybe_contract/2                                     1022     0.00        1498  [      1.47]
inet_db:tcp_module/0                                      1340     0.00        1510  [      1.13]
er_zauker_app:'-fun.priv_index_file/2-'/2                 1340     0.00        1567  [      1.17]
gen:spawn_opts/1                                          1340     0.00        1569  [      1.17]
lists:flatten/1                                           2552     0.00        1586  [      0.62]
crypto:hash_final_nif/1                                    472     0.00        1600  [      3.39]
proc_lib:get_my_name/0                                    1340     0.00        1612  [      1.20]
io_lib_format:field_width/2                               1276     0.00        1639  [      1.28]
erlang:raise/3                                             624     0.00        1755  [      2.81]
io_lib_format:control_small/7                             1276     0.00        1807  [      1.42]
io_lib:format/2                                           1276     0.00        1837  [      1.44]
gen:hibernate_after/1                                     1340     0.00        1863  [      1.39]
application:get_env/2                                     1340     0.00        1879  [      1.40]
sets:fold/3                                               1022     0.00        1879  [      1.84]
sets:new/0                                                1022     0.00        1882  [      1.84]
io_lib_format:fwrite/2                                    1276     0.00        1888  [      1.48]
io_lib_format:get_option/3                                1276     0.00        1915  [      1.50]
persistent_term:get/2                                     1340     0.00        1927  [      1.44]
inet_db:res_option/1                                      1340     0.00        1956  [      1.46]
proc_lib:init_p_do_apply/3                                1340     0.00        1994  [      1.49]
gen:init_it2/7                                            1340     0.00        2004  [      1.50]
prim_inet:dec_value/2                                      936     0.00        2037  [      2.18]
inet:timeout/1                                            1340     0.00        2080  [      1.55]
erlang:read_timer/1                                       1340     0.00        2084  [      1.56]
gen:timeout/1                                             1340     0.00        2133  [      1.59]
erlang:exit/1                                             2056     0.00        2201  [      1.07]
gen:debug_options/2                                       1340     0.00        2276  [      1.70]
io:o_request/3                                            1615     0.00        2327  [      1.44]
proc_lib:proc_info/2                                      1340     0.00        2333  [      1.74]
gen_server:init_it/2                                      1340     0.00        2374  [      1.77]
inet:gen_tcp_module/1                                     1340     0.00        2376  [      1.77]
inet:start_timer/1                                        1340     0.00        2408  [      1.80]
er_zauker_rpool:wait4Connection/0                         1340     0.00        2449  [      1.83]
gen_server:call/2                                         1652     0.00        2528  [      1.53]
inet_gethost_native:ensure_started/0                      1340     0.00        2531  [      1.89]
eredis_client:read_database/1                             1340     0.00        2611  [      1.95]
filename:unix_pathtype/1                                  3862     0.00        2674  [      0.69]
io_lib_format:collect/2                                   2552     0.00        2721  [      1.07]
proc_lib:init_ack/2                                       1340     0.00        2726  [      2.03]
inet:stop_timer/1                                         1340     0.00        2739  [      2.04]
crypto:notsup_to_error/1                                  3511     0.00        2787  [      0.79]
io:format/2                                               1615     0.00        2790  [      1.73]
application_controller:get_env/2                          1340     0.00        2806  [      2.09]
inet:gethostbyname_tm/3                                   1340     0.00        2890  [      2.16]
prim_inet:connect/4                                       2680     0.00        2908  [      1.09]
crypto:hash/4                                             1276     0.00        2938  [      2.30]
io:default_output/0                                       1615     0.00        2971  [      1.84]
prim_inet:enc_value_default/3                             5360     0.00        3148  [      0.59]
er_zauker_rpool:handle_call/3                             1340     0.00        3184  [      2.38]
prim_inet:enc_value/3                                     5360     0.00        3290  [      0.61]
prim_inet:enc_opt/1                                       4332     0.00        3341  [      0.77]
erlang:put/2                                              2680     0.00        3348  [      1.25]
io_lib_format:build/2                                     1276     0.00        3422  [      2.68]
gen:do_spawn/5                                            1340     0.00        3526  [      2.63]
proc_lib:start_link/5                                     1340     0.00        3618  [      2.70]
lists:keydelete/3                                         5360     0.00        3646  [      0.68]
erlang:open_port/2                                        1340     0.00        3755  [      2.80]
inet_db:register_socket/2                                 1340     0.00        3757  [      2.80]
inet:getaddrs_tm/3                                        1340     0.00        3806  [      2.84]
er_zauker_util:split_file_in_trigrams/1                   1022     0.00        3807  [      3.73]
sets:fold_set/3                                           1022     0.00        3840  [      3.76]
filename:maybe_remove_dirsep/2                            3862     0.00        3930  [      1.02]
er_zauker_util:md5_file/1                                 1276     0.00        3946  [      3.09]
inet:gethostbyname_tm_native/4                            1340     0.00        3956  [      2.95]
er_zauker_app:priv_index_file/2                           1340     0.00        4004  [      2.99]
erlang:list_to_integer/1                                  3320     0.00        4107  [      1.24]
crypto:hash_init_nif/1                                     472     0.00        4120  [      8.73]
inet_db:db_get/1                                          2680     0.00        4140  [      1.54]
io_lib_format:unprefixed_integer/6                        1276     0.00        4261  [      3.34]
prim_inet:async_connect0/3                                1340     0.00        4272  [      3.19]
prim_inet:connect0/3                                      1340     0.00        4327  [      3.23]
io_lib_format:field_value/3                               7656     0.00        4358  [      0.57]
proc_lib:spawn_opt/4                                      1340     0.00        4414  [      3.29]
inet:open/8                                               1340     0.00        4428  [      3.30]
io_lib_format:term/5                                      1276     0.00        4446  [      3.48]
prim_inet:enc_value_1/3                                   5360     0.00        4613  [      0.86]
sets:filter_set/2                                         1022     0.00        4716  [      4.61]
eredis_parser:parse_multibulk/1                           1022     0.00        4730  [      4.63]
erlang:integer_to_list/2                                  1276     0.00        4802  [      3.76]
erlang:dt_spread_tag/1                                    6725     0.00        4909  [      0.73]
filelib:eval_read_file_info/2                             4144     0.00        4955  [      1.20]
inet:con_opt/3                                            6700     0.00        4999  [      0.75]
filename:pathtype/1                                       3862     0.00        5013  [      1.30]
erlang:cancel_timer/1                                     1340     0.00        5075  [      3.79]
erlang:process_info/2                                     1652     0.00        5131  [      3.11]
file:close/1                                              2298     0.00        5238  [      2.28]
er_zauker_util:readlines/1                                1276     0.00        5300  [      4.15]
erlang:start_timer/3                                      1340     0.00        5398  [      4.03]
gen_tcp:try_connect/6                                     1340     0.00        5439  [      4.06]
ets:lookup_element/3                                      2680     0.00        5736  [      2.14]
file:native_name_encoding/0                               6725     0.00        6028  [      0.90]
er_zauker_util:to_hex/1                                   1276     0.00        6087  [      4.77]
lists:keyfind/3                                           6636     0.00        6196  [      0.93]
gen:'-call/4-fun-0-'/4                                    8067     0.00        6236  [      0.77]
inet_gethost_native:parse_address/2                       1340     0.00        6252  [      4.67]
crypto:hash/2                                             1276     0.00        6473  [      5.07]
eredis_client:init/1                                      1340     0.00        6525  [      4.87]
prim_inet:type_opt_1/1                                   10004     0.00        6638  [      0.66]
filename:major_os_type/0                                  3862     0.00        6666  [      1.73]
proc_lib:sync_start_link/2                                1340     0.00        6711  [      5.01]
gen_tcp:connect1/4                                        1340     0.00        6775  [      5.06]
proc_lib:init_p/5                                         1340     0.00        6800  [      5.07]
inet_tcp:do_connect/4                                     1340     0.00        6873  [      5.13]
filelib:do_is_regular/2                                   3862     0.00        6879  [      1.78]
file:read_file_info/1                                     4144     0.00        6923  [      1.67]
prim_inet:enc_value_2/2                                   5360     0.00        6987  [      1.30]
gen_tcp:connect/4                                         1340     0.00        7213  [      5.38]
prim_inet:open/6                                          1340     0.00        7279  [      5.43]
prim_inet:type_value_default/3                           10720     0.00        7308  [      0.68]
sets:expand_segs/2                                        5188     0.00        7363  [      1.42]
prim_inet:type_opt/2                                     10004     0.00        7369  [      0.74]
crypto:hash_update/4                                      1763     0.00        7406  [      4.20]
timer:sleep/1                                             1426     0.00        7449  [      5.22]
io_lib_format:collect_cseq/2                              1276     0.00        7716  [      6.05]
prim_inet:type_value/3                                   10720     0.00        8077  [      0.75]
erlang:dt_restore_tag/1                                   6725     0.00        8128  [      1.21]
erlang:system_info/1                                      7724     0.00        8188  [      1.06]
inet:connect_options/2                                    1340     0.00        8215  [      6.13]
er_zauker_app:waitAllWorkerDone/2                          714     0.00        8223  [     11.52]
re:urun/3                                                 3580     0.00        8416  [      2.35]
prim_inet:type_value_1/3                                 10720     0.00        8517  [      0.79]
gen_server:init_it/6                                      1340     0.00        8558  [      6.39]
er_zauker_util:load_file/2                                1022     0.00        8691  [      8.50]
re:process_uparams/2                                      7160     0.00        8694  [      1.21]
erlang:binary_to_list/1                                   5994     0.00        8713  [      1.45]
inet:mod/6                                                6700     0.00        8831  [      1.32]
inet_parse:is_vis1/1                                     13400     0.00        8917  [      0.67]
lists:duplicate/3                                        16898     0.00        9277  [      0.55]
erlang:spawn/3                                            1341     0.00        9466  [      7.06]
file:open/2                                               2298     0.00        9642  [      4.20]
inet_gethost_native:pick_addresses_v4/2                   2680     0.00        9704  [      3.62]
erts_internal:flush_monitor_messages/3                    2608     0.00        9814  [      3.76]
inet:con_add/5                                            5360     0.00        9950  [      1.86]
prim_inet:is_sockopt_val/2                                5360     0.00       10016  [      1.87]
inet_gethost_native:ndx/4                                13400     0.00       10317  [      0.77]
ets:lookup/2                                              1340     0.00       10357  [      7.73]
inet_gethost_native:getit/2                               1340     0.00       10384  [      7.75]
io_lib_format:build_small/1                               2552     0.00       10609  [      4.16]
file:check_args/1                                        17792     0.00       10980  [      0.62]
er_zauker_util:load_file_if_needed/1                      1340     0.00       11228  [      8.38]
unicode:characters_to_binary/2                            3581     0.00       12227  [      3.41]
filename:join/2                                           3862     0.00       12601  [      3.26]
os:type/0                                                 7724     0.00       12880  [      1.67]
prim_inet:enc_opt_val/4                                   4020     0.00       12981  [      3.23]
erlang:spawn_opt/4                                        1340     0.00       13004  [      9.70]
file:file_name/1                                          6725     0.00       15070  [      2.24]
prim_inet:type_value_2/2                                 13400     0.00       15281  [      1.14]
lists:keydelete3/3                                       14740     0.00       15365  [      1.04]
inet:add_opt/4                                            5360     0.00       15534  [      2.90]
erlang:whereis/1                                          9444     0.00       15702  [      1.66]
gen:do_for_proc/2                                         8067     0.00       16432  [      2.04]
file:check_and_call/2                                     4427     0.00       16608  [      3.75]
inet_gethost_native:pick_names/2                          2680     0.00       16659  [      6.22]
er_zauker_app:indexerDaemon/2                             3395     0.00       16734  [      4.93]
file:file_request/2                                       2298     0.00       16902  [      7.36]
crypto:hash_nif/2                                          804     0.00       18253  [     22.70]
eredis_client:connect/1                                   1340     0.00       19656  [     14.67]
erts_internal:port_close/1                                 312     0.00       21461  [     68.79]
prim_inet:enum_val/2                                     32160     0.00       21558  [      0.67]
re:urun2/3                                                3580     0.00       21936  [      6.13]
filelib:do_fold_files2/8                                  4145     0.00       23591  [      5.69]
io_lib_format:count_small/2                              42108     0.00       29094  [      0.69]
file:call/2                                               6725     0.00       31403  [      4.67]
eredis_parser:parse_multibulk/2                          12764     0.00       42107  [      3.30]
erlang:tuple_to_list/1                                   45040     0.00       46640  [      1.04]
erts_internal:open_port/2                                 1340     0.00       47271  [     35.28]
erlang:list_to_tuple/1                                   52078     0.00       49490  [      0.95]
io_lib_format:lowercase/1                                42039     0.00       52456  [      1.25]
crypto:hash_update_nif/2                                  1763     0.00       64982  [     36.86]
re:run/3                                                  7160     0.00       69833  [      9.75]
lists:do_flatten/2                                       84346     0.01       90187  [      1.07]
sets:fold_segs/4                                         44590     0.01       91141  [      2.04]
lists:reverse/1                                          51136     0.01       98868  [      1.93]
sets:filter_seg_list/4                                   44590     0.01      119869  [      2.69]
filename:join1/4                                        232850     0.01      136010  [      0.58]
lists:reverse/2                                          52155     0.01      175173  [      3.36]
erlang:iolist_to_binary/1                                 1784     0.02      259946  [    145.71]
sets:maybe_expand_segs/1                                468999     0.02      420564  [      0.90]
file:file_name_1/2                                      399474     0.03      437597  [      1.10]
sets:filter_bkt_list/4                                  740656     0.05      881287  [      1.19]
io:get_line/2                                          1024684     0.05      893505  [      0.87]
sets:fold_seg/4                                         740656     0.07     1120102  [      1.51]
er_zauker_util:'-fun.good_trigram/1-'/1                2424734     0.08     1433984  [      0.59]
file:read_line/1                                        800115     0.09     1498540  [      1.87]
er_zauker_util:good_trigram/1                          2424734     0.09     1570028  [      0.65]
io:io_request/2                                        1826414     0.10     1643124  [      0.90]
net_kernel:dflag_unicode_io/1                          1826414     0.10     1797950  [      0.98]
er_zauker_util:'-fun.redis_pusher/2-'/2                2423714     0.12     2078873  [      0.86]
sets:put_bucket_s/3                                     937998     0.13     2181582  [      2.33]
er_zauker_util:scan_file_trigrams/3                     800115     0.14     2353191  [      2.94]
io:request/2                                           1826414     0.16     2813537  [      1.54]
erlang:monitor/2                                       1836815     0.16     2818545  [      1.53]
io:bc_req/3                                            1826414     0.17     2983723  [      1.63]
er_zauker_util:get_all_lines/1                         1024684     0.19     3313015  [      3.23]
sets:filter_bucket/4                                   3121822     0.19     3356571  [      1.08]
gen_server:try_dispatch/3                              4865999     0.21     3603163  [      0.74]
eredis_client:safe_reply/2                             4852923     0.21     3651137  [      0.75]
eredis_parser:init/0                                   4854263     0.22     3763826  [      0.78]
gen:call/4                                             4861302     0.22     3766181  [      0.77]
queue:out/1                                            4852923     0.22     3874777  [      0.80]
gen_server:handle_common_reply/8                       4865999     0.23     3948449  [      0.81]
queue:in/2                                             4852923     0.23     3951019  [      0.81]
inet_tcp:send/2                                        4852923     0.23     3995561  [      0.82]
eredis_client:handle_call/3                            4853235     0.24     4083823  [      0.84]
eredis:q/2                                             4852923     0.24     4148928  [      0.85]
eredis_parser:parse_bulk/1                             4860046     0.25     4230435  [      0.87]
sets:maybe_expand/1                                    2424734     0.29     4940289  [      2.04]
prim_inet:send_recv_reply/2                            4852923     0.29     4944892  [      1.02]
erlang:port_get_data/1                                 4852923     0.32     5524870  [      1.14]
sets:fold_bucket/3                                     3120802     0.33     5665786  [      1.82]
prim_inet:encode_opt_val/1                             4868367     0.38     6605339  [      1.36]
erlang:'++'/2                                          5876970     0.39     6646689  [      1.13]
gen_server:call/3                                      4859650     0.39     6796139  [      1.40]
prim_inet:ctl_cmd/3                                    4871671     0.40     6815499  [      1.40]
prim_inet:enc_opt_val/2                                9739414     0.40     6902821  [      0.71]
inet:setopts/2                                         4865687     0.40     6960907  [      1.43]
erlang:port_control/3                                  4871671     0.42     7240138  [      1.49]
eredis:call/3                                          4852923     0.42     7268179  [      1.50]
sets:rehash/4                                          3836634     0.42     7315922  [      1.91]
sets:update_bucket/3                                   2424734     0.43     7439065  [      3.07]
eredis_parser:return_result/3                          4865687     0.43     7491224  [      1.54]
prim_inet:send/3                                       4852923     0.45     7708373  [      1.59]
string:concat/2                                        4850248     0.45     7714035  [      1.59]
erlang:monitor/3                                       4854575     0.45     7747481  [      1.60]
gen_server:try_dispatch/4                              4865999     0.46     7884175  [      1.62]
eredis_parser:do_parse_multibulk/3                     4861214     0.46     7889958  [      1.62]
gen_server:try_handle_call/4                           4854575     0.48     8207589  [      1.69]
gen_tcp:send/2                                         4852923     0.50     8568730  [      1.77]
eredis_parser:parse/2                                  4865687     0.50     8618938  [      1.77]
inet_db:lookup_socket/1                                4852923     0.51     8854369  [      1.82]
erlang:port_command/3                                  4852923     0.52     8953029  [      1.84]
prim_inet:setopts/2                                    4868367     0.55     9528324  [      1.96]
er_zauker_util:redis_pusher/2                          2423714     0.55     9530065  [      3.93]
eredis:'-fun.to_bulk/1-'/1                            14551810     0.56     9666836  [      0.66]
gen_server:decode_msg/9                                9720574     0.58     9930479  [      1.02]
inet:'-setopts/2-lc$^0/1-0-'/1                         9731374     0.59    10087202  [      1.04]
io:execute_request/2                                   1826414     0.59    10145164  [      5.55]
eredis:'-fun.to_binary/1-'/1                          14551810     0.59    10167584  [      0.70]
gen_server:reply/2                                     4854575     0.59    10245929  [      2.11]
eredis_client:handle_info/2                            4865687     0.60    10256705  [      2.11]
erlang:send/3                                          4854575     0.60    10390893  [      2.14]
erlang:iolist_size/1                                  14553086     0.61    10509327  [      0.72]
eredis_client:reply/2                                  4852923     0.64    11076590  [      2.28]
eredis_client:handle_response/2                        4865687     0.79    13673875  [      2.81]
eredis:create_multibulk/1                              4852923     0.89    15347903  [      3.16]
gen_server:handle_msg/6                                9720574     0.90    15579022  [      1.60]
eredis_client:do_request/3                             4852923     0.91    15664537  [      3.23]
erlang:demonitor/2                                     6690049     0.92    15869480  [      2.37]
string:substr/2                                       25187363     0.97    16711376  [      0.66]
string:to_lower/1                                     25187363     0.98    16814849  [      0.67]
sets:get_bucket/2                                     25899352     1.00    17202161  [      0.66]
eredis_parser:parse_simple/1                           9707351     1.04    17900916  [      1.84]
erlang:integer_to_list/1                              19407661     1.05    18167676  [      0.94]
erlang:list_to_binary/1                               14554490     1.12    19232483  [      1.32]
string:len/1                                          25986456     1.13    19407815  [      0.75]
erlang:setelement/3                                   20839815     1.17    20150234  [      0.97]
sets:get_bucket_s/2                                   26368351     1.18    20344249  [      0.77]
eredis:to_binary/1                                    14551810     1.32    22682872  [      1.56]
erlang:phash/2                                        29266987     1.34    23092150  [      0.79]
gen_server:loop/7                                      9721602     1.42    24493756  [      2.52]
eredis_parser:get_newline_pos/1                        9710671     1.55    26653444  [      2.74]
erts_internal:port_control/3                           4871671     1.73    29784777  [      6.11]
eredis:to_bulk/1                                      14551810     1.78    30741029  [      2.11]
gen:do_call/4                                          4861302     1.84    31626406  [      6.51]
string:substr/3                                       25187363     1.85    31885304  [      1.27]
lists:member/2                                        25911988     1.95    33620429  [      1.30]
sets:get_slot/2                                       25899352     1.95    33621657  [      1.30]
re:run/2                                               9710671     2.21    38022809  [      3.92]
string:to_lower_char/1                                75562089     2.90    49967687  [      0.66]
string:substr2/2                                      75562089     2.91    50199593  [      0.66]
lists:map/2                                           38809466     3.52    60688998  [      1.56]
sets:add_element/2                                    25899352     4.04    69616795  [      2.69]
er_zauker_util:split_on_set/2                         25986456     5.50    94743416  [      3.65]
string:substr1/2                                     100749452     6.39   110123001  [      1.09]
string:'-to_lower/1-lc$^0/1-0-'/1                    100749452     8.96   154437927  [      1.53]
erts_internal:port_command/3                           4852923    10.64   183316291  [     37.77]
--------------------------------------------------  ----------  -------  ----------  [----------]
Total:                                              1139223531  100.00%  1722762771  [      1.51]