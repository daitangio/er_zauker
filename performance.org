To test performance, use the perf_monitor.sh to regiter data in an independent way.





* Performance v0.0.3
Using hipe, 64 bit and compiling only er_zauker_util as native (default configuration)
we can reach 300  parallel connections to redis and 4 files per second.

On already indexed files (When we are just checking md5) performance are a lot higher.

| Files processed | Files/Sec | Scope                                     |
|             772 |     3.197 | All new                                   |
|            1002 |     3.940 | All new                                   |
|            1002 |    40.420 | All already indexed                       |
|                 |           | Mixed scenario: 1002 file already indexed |
|                 |           |                                           |



* Performance v0.1.0

Run
ER_TEST_PROJECT=/usr/local/lib/erlang/lib/wx-2.0 make benchmark

** Performace for
time ER_TEST_PROJECT=/usr/local/lib/erlang/lib/ make benchmark

[2509]s Workers[0]  Files processed:1341 Files/sec: 0.534475886807493 
 All worker Finished FUNCTION                                                 CALLS        %        TIME  [uS / CALLS]
 --------                                                 -----  -------        ----  [----------]
 erl_eval:eval_op/6                                           1     0.00           0  [      0.00]
 erl_internal:bif/2                                           1     0.00           0  [      0.00]
 filelib:fold_files/5                                         1     0.00           0  [      0.00]
 erlang:self/0                                                1     0.00           0  [      0.00]
 erl_eval:bif/5                                               1     0.00           1  [      1.00]
 filelib:do_fold_files/6                                      1     0.00           1  [      1.00]
 er_zauker_app:wait_worker_done/0                             1     0.00           1  [      1.00]
 io:format/1                                                  1     0.00           2  [      2.00]
 erl_internal:bif/3                                           2     0.00           2  [      1.00]
 re:ucompile/2                                                1     0.00           2  [      2.00]
 erl_eval:expr_list/4                                         4     0.00           3  [      0.75]
 lists:foldl/3                                                6     0.00           4  [      0.67]
 orddict:to_list/1                                            6     0.00           4  [      0.67]
 er_zauker_app:indexDirectory/1                               1     0.00           4  [      4.00]
 erlang:'!'/2                                                 1     0.00           4  [      4.00]
 erl_eval:exprs/5                                             3     0.00           5  [      1.67]
 erl_eval:ret_expr/3                                         12     0.00           9  [      0.75]
 erl_eval:merge_bindings/2                                    6     0.00          11  [      1.83]
 code:call/1                                                 21     0.00          14  [      0.67]
 erl_eval:expr_list/6                                         7     0.00          15  [      2.14]
 erl_eval:do_apply/6                                          4     0.00          17  [      4.25]
 re:compile/2                                                 2     0.00          18  [      9.00]
 erlang:module_loaded/1                                      21     0.00          23  [      1.10]
 code:ensure_loaded/1                                        21     0.00          33  [      1.57]
 erl_eval:expr/5                                             12     0.00          35  [      2.92]
 error_handler:ensure_loaded/1                               21     0.00          41  [      1.95]
 error_handler:undefined_function/3                          21     0.00          57  [      2.71]
 code_server:call/1                                          21     0.00         113  [      5.38]
 proc_lib:crash_report/4                                   1340     0.00         239  [      0.18]
 filelib:eval_list_dir/2                                    283     0.00         308  [      1.09]
 prim_inet:type_value/2                                    1340     0.00         332  [      0.25]
 gen_server:cast_msg/1                                     1340     0.00         429  [      0.32]
 filelib:do_is_dir/2                                        282     0.00         491  [      1.74]
 io_lib_format:adjust/3                                    2231     0.00         499  [      0.22]
 io_lib_format:precision/2                                 2231     0.00         526  [      0.24]
 prim_inet:enc_family/1                                    2231     0.00         535  [      0.24]
 prim_inet:enc_value/2                                     1340     0.00         560  [      0.42]
 filelib:do_fold_files1/7                                   283     0.00         570  [      2.01]
 proc_lib:exit_reason/3                                    1340     0.00         572  [      0.43]
 prim_inet:dec_opt/1                                       1340     0.00         595  [      0.44]
 io_lib_format:base/1                                      2231     0.00         603  [      0.27]
 io_lib_format:chars/2                                     2231     0.00         603  [      0.27]
 io_lib_format:cond_lowercase/2                            2231     0.00         628  [      0.28]
 inet:mod/7                                                2231     0.00         631  [      0.28]
 file:list_dir/1                                            283     0.00         659  [      2.33]
 prim_inet:enc_type/1                                      2231     0.00         688  [      0.31]
 io_lib_format:pad_char/2                                  2231     0.00         704  [      0.32]
 erlang:min/2                                              2231     0.00         719  [      0.32]
 gen_server:terminate_reason/3                             1340     0.00         797  [      0.59]
 inet:translate_ip/2                                       2231     0.00         827  [      0.37]
 io_lib_format:build/1                                     2231     0.00         828  [      0.37]
 lists:keymergel/4                                         2231     0.00         848  [      0.38]
 prim_inet:rev/1                                           1340     0.00         857  [      0.64]
 prim_inet:enc_time/1                                      2231     0.00         859  [      0.39]
 inet:connect_options/0                                    2231     0.00         910  [      0.41]
 inet:tcp_module/2                                         2231     0.00         911  [      0.41]
 inet:mod/4                                                2231     0.00         931  [      0.42]
 io_lib_format:modifiers/2                                 2231     0.00         941  [      0.42]
 lists:ukeymerge/3                                         2231     0.00         951  [      0.43]
 inet_tcp:connect/4                                        2231     0.00         962  [      0.43]
 prim_inet:ip4_to_bytes/1                                  2231     0.00         980  [      0.44]
 gen_server:terminate/8                                    1340     0.00        1004  [      0.75]
 inet_tcp:check_ip_format/1                                2231     0.00        1025  [      0.46]
 sets:mk_seg/1                                             2231     0.00        1031  [      0.46]
 io_lib_format:scan/2                                      2231     0.00        1035  [      0.46]
 gen:name/1                                                2231     0.00        1050  [      0.47]
 io_lib_format:count_small/1                               2231     0.00        1061  [      0.48]
 eredis_parser:do_parse_multibulk/2                        2231     0.00        1089  [      0.49]
 inet_tcp:getserv/1                                        2231     0.00        1135  [      0.51]
 queue:new/0                                               2231     0.00        1167  [      0.52]
 io_lib_format:collect_cc/2                                2231     0.00        1237  [      0.55]
 inet:gen_tcp_module/2                                     2231     0.00        1304  [      0.58]
 prim_inet:open/4                                          2231     0.00        1313  [      0.59]
 inet:tcp_module_1/2                                       2231     0.00        1370  [      0.61]
 gen:init_it/6                                             2231     0.00        1428  [      0.64]
 io_lib_format:field_width/3                               2231     0.00        1441  [      0.65]
 eredis:stop/1                                             1340     0.00        1459  [      1.09]
 sets:fold_set/3                                           2231     0.00        1508  [      0.68]
 prim_inet:protocol2drv/1                                  2231     0.00        1530  [      0.69]
 eredis_client:stop/1                                      1340     0.00        1577  [      1.18]
 prim_inet:encode_opts/1                                   1340     0.00        1580  [      1.18]
 proc_lib:trans_init/3                                     2231     0.00        1584  [      0.71]
 crypto:hash_init/1                                         919     0.00        1710  [      1.86]
 gen_tcp:close/1                                           1340     0.00        1762  [      1.31]
 crypto:hash_final/1                                        919     0.00        1765  [      1.92]
 prim_inet:decode_opt_val/1                                1340     0.00        1766  [      1.32]
 gen_server:do_cast/2                                      1340     0.00        1780  [      1.33]
 prim_inet:decode_subs/1                                   1340     0.00        1787  [      1.33]
 prim_inet:enc_opts/1                                      2680     0.00        1800  [      0.67]
 er_zauker_app:'-fun.priv_index_file/2-'/2                 1340     0.00        1859  [      1.39]
 gen:start/5                                               2231     0.00        1878  [      0.84]
 eredis:start_link/6                                       2231     0.00        1909  [      0.86]
 crypto:max_bytes/0                                        2231     0.00        1970  [      0.88]
 er_zauker_rpool:releaseConnection/1                       1340     0.00        2008  [      1.50]
 prim_inet:getopt/2                                        1340     0.00        2034  [      1.52]
 inet_tcp:translate_ip/1                                   2231     0.00        2092  [      0.94]
 erlang:monotonic_time/1                                   1087     0.00        2134  [      1.96]
 prim_inet:encode_subs/1                                   1340     0.00        2257  [      1.68]
 erlang:exit/1                                             1782     0.00        2265  [      1.27]
 inet:getaddrs_tm/3                                        2231     0.00        2280  [      1.02]
 erlang:function_exported/3                                1361     0.00        2534  [      1.86]
 application:get_env/2                                     2231     0.00        2575  [      1.15]
 inet_tcp:getaddrs/2                                       2231     0.00        2603  [      1.17]
 eredis:start_link/7                                       2231     0.00        2634  [      1.18]
 gen_server:do_send/2                                      1340     0.00        2661  [      1.99]
 gen:hibernate_after/1                                     2231     0.00        2663  [      1.19]
 sets:filter/2                                             2231     0.00        2698  [      1.21]
 inet:parse_address/1                                      2231     0.00        2745  [      1.23]
 gen_server:start_link/3                                   2231     0.00        2784  [      1.25]
 eredis:q/3                                                2231     0.00        2800  [      1.26]
 prim_inet:rev/2                                           4020     0.00        2827  [      0.70]
 gen:spawn_opts/1                                          2231     0.00        2848  [      1.28]
 erlang:port_set_data/2                                    2231     0.00        2884  [      1.29]
 inet_parse:strip0/1                                       4462     0.00        2912  [      0.65]
 sets:maybe_contract/2                                     2231     0.00        3011  [      1.35]
 inet:tcp_close/1                                          1340     0.00        3072  [      2.29]
 inet_parse:address/1                                      2231     0.00        3095  [      1.39]
 prim_inet:getopts/2                                       1340     0.00        3145  [      2.35]
 io_lib_format:fwrite/2                                    2231     0.00        3180  [      1.43]
 lists:duplicate/2                                          903     0.00        3224  [      3.57]
 io_lib:chars_length/1                                     2231     0.00        3224  [      1.45]
 sets:fold/3                                               2231     0.00        3237  [      1.45]
 prim_inet:subscribe/2                                     1340     0.00        3244  [      2.42]
 proc_lib:init_p_do_apply/3                                2231     0.00        3260  [      1.46]
 erlang:port_close/1                                       1340     0.00        3305  [      2.47]
 prim_inet:dec_opt_val/3                                   1340     0.00        3313  [      2.47]
 proc_lib:get_my_name/0                                    2231     0.00        3316  [      1.49]
 lists:flatten/1                                           4462     0.00        3317  [      0.74]
 io_lib_format:field_value/2                               4462     0.00        3324  [      0.74]
 io_lib_format:get_option/3                                2231     0.00        3354  [      1.50]
 erlang:send/2                                             1340     0.00        3368  [      2.51]
 inet_parse:ipv4_addr/1                                    2231     0.00        3372  [      1.51]
 proc_lib:get_ancestors/0                                  2231     0.00        3373  [      1.51]
 prim_inet:dec_opt_val/1                                   2680     0.00        3379  [      1.26]
 eredis_client:authenticate/2                              2231     0.00        3397  [      1.52]
 io_lib:format/2                                           2231     0.00        3441  [      1.54]
 inet_parse:ipv4_address/1                                 2231     0.00        3475  [      1.56]
 inet:timeout/1                                            2231     0.00        3476  [      1.56]
 crypto:hash_final_nif/1                                    919     0.00        3489  [      3.80]
 persistent_term:get/2                                     2231     0.00        3565  [      1.60]
 gen:debug_options/2                                       2231     0.00        3572  [      1.60]
 lists:rkeymerge2_2/7                                      2231     0.00        3579  [      1.60]
 er_zauker_rpool:handle_cast/2                             1340     0.00        3579  [      2.67]
 gen:init_it2/7                                            2231     0.00        3711  [      1.66]
 io:format/3                                               3319     0.00        3871  [      1.17]
 lists:keysplit_1_1/10                                     4462     0.00        3872  [      0.87]
 filename:unix_pathtype/1                                  3862     0.00        3905  [      1.01]
 erlang:list_to_atom/1                                     1340     0.00        3953  [      2.95]
 prim_inet:close/1                                         1340     0.00        3957  [      2.95]
 gen_server:init_it/2                                      2231     0.00        4015  [      1.80]
 prim_inet:enc_subs/1                                      2680     0.00        4019  [      1.50]
 io_lib_format:field_width/2                               2231     0.00        4025  [      1.80]
 eredis_client:start_link/7                                2231     0.00        4047  [      1.81]
 io_lib_format:control_small/7                             2231     0.00        4113  [      1.84]
 filename:maybe_remove_dirsep/2                            3862     0.00        4130  [      1.07]
 inet:gen_tcp_module/1                                     2231     0.00        4302  [      1.93]
 gen_server:terminate/10                                   1340     0.00        4313  [      3.22]
 er_zauker_util:get_unique_id/1                            1340     0.00        4342  [      3.24]
 eredis_client:read_database/1                             2231     0.00        4354  [      1.95]
 eredis_client:terminate/2                                 1340     0.00        4416  [      3.30]
 erlang:read_timer/1                                       2231     0.00        4435  [      1.99]
 gen_server:try_terminate/3                                1340     0.00        4440  [      3.31]
 er_zauker_util:increment_processed_files_counter/1        1340     0.00        4455  [      3.32]
 gen:timeout/1                                             2231     0.00        4498  [      2.02]
 proc_lib:init_ack/2                                       2231     0.00        4502  [      2.02]
 inet_db:register_socket/2                                 2231     0.00        4538  [      2.03]
 eredis_parser:buffer_create/0                             5177     0.00        4564  [      0.88]
 application_controller:get_env/2                          2231     0.00        4764  [      2.14]
 sets:new/0                                                2231     0.00        4793  [      2.15]
 inet:stop_timer/1                                         2231     0.00        5006  [      2.24]
 maps:remove/2                                              891     0.00        5008  [      5.62]
 proc_lib:proc_info/2                                      2231     0.00        5067  [      2.27]
 proc_lib:exit_p/3                                         1340     0.00        5139  [      3.84]
 erlang:open_port/2                                        2231     0.00        5167  [      2.32]
 prim_inet:dec_value_tuple/4                               4020     0.00        5197  [      1.29]
 erlang:put/2                                              4462     0.00        5245  [      1.18]
 prim_inet:dec_subs/1                                      2680     0.00        5521  [      2.06]
 io:o_request/3                                            3319     0.00        5572  [      1.68]
 erlang:raise/3                                            2680     0.00        5599  [      2.09]
 crypto:notsup_to_error/1                                  6607     0.00        5623  [      0.85]
 io_lib_format:collect/2                                   4462     0.00        5685  [      1.27]
 lists:keysplit_1/8                                        4462     0.00        5689  [      1.27]
 gen_server:cast/2                                         1340     0.00        5694  [      4.25]
 crypto:hash/4                                             2231     0.00        5743  [      2.57]
 lists:rkeymergel/4                                        4462     0.00        5867  [      1.31]
 proc_lib:start_link/5                                     2231     0.00        6132  [      2.75]
 prim_inet:enc_opts/2                                      1340     0.00        6222  [      4.64]
 prim_inet:dec_value/2                                     4020     0.00        6241  [      1.55]
 prim_inet:async_connect0/3                                2231     0.00        6339  [      2.84]
 filelib:eval_read_file_info/2                             4144     0.00        6409  [      1.55]
 er_zauker_app:priv_index_file/2                           1340     0.00        6624  [      4.94]
 filelib:do_is_regular/2                                   3862     0.00        6643  [      1.72]
 filename:pathtype/1                                       3862     0.00        6661  [      1.72]
 eredis_client:get_addr/1                                  2231     0.00        6709  [      3.01]
 lists:rkeymerge2_1/6                                      8924     0.00        7213  [      0.81]
 prim_inet:close_port/1                                    1340     0.00        7325  [      5.47]
 erlang:list_to_integer/2                                  8924     0.00        7327  [      0.82]
 proc_lib:make_dummy_args/2                                2680     0.00        7462  [      2.78]
 io_lib_format:build/2                                     2231     0.00        7482  [      3.35]
 io:format/2                                               3319     0.00        7497  [      2.26]
 eredis_client:select_database/2                           2231     0.00        7693  [      3.45]
 file:read_file_info/1                                     4144     0.00        7708  [      1.86]
 ets:lookup/2                                              2231     0.00        7709  [      3.46]
 gen_tcp:try_connect/6                                     2231     0.00        7762  [      3.48]
 io_lib_format:unprefixed_integer/6                        2231     0.00        7916  [      3.55]
 inet:open/8                                               2231     0.00        7937  [      3.56]
 io:default_output/0                                       3319     0.00        7948  [      2.39]
 filename:major_os_type/0                                  3862     0.00        8006  [      2.07]
 re:urun/3                                                 3580     0.00        8206  [      2.29]
 proc_lib:spawn_opt/4                                      2231     0.00        8331  [      3.73]
 er_zauker_util:md5_file/1                                 2231     0.00        8352  [      3.74]
 io_lib_format:field_value/3                              13386     0.00        8531  [      0.64]
 erlang:integer_to_list/2                                  2231     0.00        8706  [      3.90]
 crypto:hash_init_nif/1                                     919     0.00        8719  [      9.49]
 prim_inet:enc_value/3                                    13386     0.00        8820  [      0.66]
 lists:keysort/2                                           4462     0.00        8844  [      1.98]
 gen:do_spawn/5                                            2231     0.00        8853  [      3.97]
 lists:keyfind/3                                          11155     0.00        8892  [      0.80]
 lists:keydelete/3                                        13386     0.00        8903  [      0.67]
 inet_parse:ipv4_addr/2                                    8924     0.00        9082  [      1.02]
 prim_inet:connect0/3                                      2231     0.00        9123  [      4.09]
 prim_inet:enc_value_default/3                            13386     0.00        9252  [      0.69]
 gen_tcp:connect1/4                                        2231     0.00        9327  [      4.18]
 prim_inet:enc_opt/1                                      12495     0.00        9388  [      0.75]
 erlang:system_info/1                                      7724     0.00        9394  [      1.22]
 erlang:cancel_timer/1                                     2231     0.00        9594  [      4.30]
 file:native_name_encoding/0                               8889     0.00        9615  [      1.08]
 io_lib_format:term/5                                      2231     0.00        9884  [      4.43]
 sets:filter_set/2                                         2231     0.00        9978  [      4.47]
 re:process_uparams/2                                      7160     0.00       10117  [      1.41]
 er_zauker_util:split_file_in_trigrams/1                   2231     0.00       10308  [      4.62]
 erlang:list_to_integer/1                                  6693     0.00       10329  [      1.54]
 file:check_and_call/2                                     4427     0.00       10948  [      2.47]
 io_lib_format:build_small/1                               4462     0.00       11064  [      2.48]
 inet:start_timer/1                                        2231     0.00       11205  [      5.02]
 prim_inet:enc_value_1/3                                  13386     0.00       11210  [      0.84]
 os:type/0                                                 7724     0.00       11227  [      1.45]
 proc_lib:init_p/5                                         2231     0.00       11409  [      5.11]
 inet:con_opt/3                                           15617     0.00       11415  [      0.73]
 filename:join/2                                           3862     0.00       11461  [      2.97]
 prim_inet:open/6                                          2231     0.00       11499  [      5.15]
 file:close/1                                              4462     0.00       11880  [      2.66]
 erlang:binary_to_list/1                                  10264     0.00       11884  [      1.16]
 er_zauker_util:readlines/1                                2231     0.00       11931  [      5.35]
 erlang:group_leader/0                                     3319     0.00       12167  [      3.67]
 erlang:dt_restore_tag/1                                   8889     0.00       12526  [      1.41]
 proc_lib:sync_start_link/2                                2231     0.00       12601  [      5.65]
 erlang:start_timer/3                                      2231     0.00       12605  [      5.65]
 erts_internal:flush_monitor_messages/3                    5800     0.00       12677  [      2.19]
 er_zauker_util:to_hex/1                                   2231     0.00       12710  [      5.70]
 inet_tcp:do_connect/4                                     2231     0.00       12803  [      5.74]
 gen_tcp:connect/4                                         2231     0.00       13072  [      5.86]
 gen_server:init_it/6                                      2231     0.00       13352  [      5.98]
 eredis_client:init/1                                      2231     0.00       13495  [      6.05]
 inet_parse:ipv4_addr/5                                    8924     0.00       14076  [      1.58]
 io_lib_format:collect_cseq/2                              2231     0.00       14730  [      6.60]
 inet:connect_options/2                                    2231     0.00       14887  [      6.67]
 prim_inet:connect/4                                       4462     0.00       15026  [      3.37]
 unicode:characters_to_binary/2                            3581     0.00       15106  [      4.22]
 sets:expand_segs/2                                       11373     0.00       16654  [      1.46]
 eredis_parser:parse_multibulk/1                           4462     0.00       17012  [      3.81]
 erlang:process_info/2                                     3571     0.00       17018  [      4.77]
 re:urun2/3                                                3580     0.00       17824  [      4.98]
 prim_inet:enc_value_2/2                                  13386     0.00       17855  [      1.33]
 inet_parse:ipv4_field/4                                  17848     0.00       17888  [      1.00]
 prim_inet:type_value/3                                   26772     0.00       18275  [      0.68]
 crypto:hash_update/4                                      3457     0.00       18433  [      5.33]
 inet_parse:ipv4_field/2                                   8924     0.00       18752  [      2.10]
 eredis_client:connect/1                                   2231     0.00       19325  [      8.66]
 file:check_args/1                                        26702     0.00       20131  [      0.75]
 lists:duplicate/3                                        34183     0.00       20606  [      0.60]
 crypto:hash/2                                             2231     0.00       20976  [      9.40]
 prim_inet:type_value_1/3                                 26772     0.00       21537  [      0.80]
 filelib:do_fold_files2/8                                  4145     0.00       23269  [      5.61]
 prim_inet:type_opt_1/1                                   27221     0.00       23596  [      0.87]
 file:open/2                                               4462     0.00       23688  [      5.31]
 file:file_name/1                                          8889     0.00       24518  [      2.76]
 er_zauker_util:load_file_if_needed/1                      2231     0.00       25400  [     11.39]
 prim_inet:is_sockopt_val/2                               13386     0.00       26092  [      1.95]
 erlang:spawn_opt/4                                        2231     0.00       26591  [     11.92]
 inet:con_add/5                                           13386     0.00       27099  [      2.02]
 inet:mod/6                                               17848     0.00       27204  [      1.52]
 erlang:spawn/3                                            2232     0.00       27366  [     12.26]
 erlang:dt_spread_tag/1                                    8889     0.00       27873  [      3.14]
 er_zauker_util:load_file/2                                2231     0.00       28905  [     12.96]
 eredis_parser:do_parse_bulk/1                             4462     0.00       29583  [      6.63]
 prim_inet:type_value_2/2                                 31234     0.00       31209  [      1.00]
 crypto:hash_nif/2                                         1312     0.00       33029  [     25.17]
 er_zauker_app:waitAllWorkerDone/2                         2052     0.00       34713  [     16.92]
 prim_inet:enc_opt_val/4                                  11155     0.00       37710  [      3.38]
 prim_inet:enum_val/2                                     53544     0.00       37762  [      0.71]
 prim_inet:type_value_default/3                           26772     0.00       40647  [      1.52]
 prim_inet:type_opt/2                                     27221     0.00       40825  [      1.50]
 file:file_request/2                                       4462     0.00       42651  [      9.56]
 inet:add_opt/4                                           13386     0.00       44152  [      3.30]
 eredis_parser:buffer_append/2                            27748     0.00       44416  [      1.60]
 er_zauker_app:indexerDaemon/3                             5624     0.00       47833  [      8.51]
 eredis_parser:parse_multibulk/2                          27748     0.00       49974  [      1.80]
 file:call/2                                               8889     0.00       50345  [      5.66]
 io_lib_format:count_small/2                              73623     0.00       52158  [      0.71]
 lists:keydelete3/3                                       49082     0.00       54127  [      1.10]
 re:run/3                                                  7160     0.00       69234  [      9.67]
 erts_internal:open_port/2                                 2231     0.00       82335  [     36.90]
 io_lib_format:lowercase/1                                73494     0.00       93883  [      1.28]
 erlang:tuple_to_list/1                                   97286     0.00      119951  [      1.23]
 erlang:list_to_tuple/1                                  107516     0.00      131177  [      1.22]
 crypto:hash_update_nif/2                                  3457     0.00      142867  [     41.33]
 filename:join1/4                                        232850     0.00      148465  [      0.64]
 lists:reverse/1                                         113635     0.00      184600  [      1.62]
 lists:do_flatten/2                                      147490     0.00      186959  [      1.27]
 erts_internal:port_close/1                                1340     0.00      195117  [    145.61]
 sets:fold_segs/4                                         96383     0.00      199237  [      2.07]
 sets:filter_seg_list/4                                   96383     0.01      280890  [      2.91]
 lists:reverse/2                                         111401     0.01      416738  [      3.74]
 file:file_name_1/2                                      530303     0.01      686848  [      1.30]
 sets:maybe_expand_segs/1                               1019332     0.02      926403  [      0.91]
 er_zauker_rpool:handle_call/3                          1496208     0.02     1143125  [      0.76]
 gen:'-call/4-fun-0-'/4                                 1505098     0.03     1428599  [      0.95]
 gen:call/3                                             1497548     0.03     1538558  [      1.03]
 erlang:whereis/1                                       1505119     0.04     1902497  [      1.26]
 sets:filter_bkt_list/4                                 1600584     0.04     2066390  [      1.29]
 io:get_line/2                                          1950359     0.05     2291274  [      1.17]
 gen_server:call/2                                      1497548     0.06     2816113  [      1.88]
 sets:fold_seg/4                                        1600584     0.06     2823069  [      1.76]
 gen:do_for_proc/2                                      1505098     0.07     3034998  [      2.02]
 er_zauker_util:'-fun.good_trigram/1-'/1                5270662     0.07     3450120  [      0.65]
 er_zauker_util:good_trigram/1                          5270662     0.08     3709606  [      0.70]
 io:io_request/2                                        3904037     0.09     4136627  [      1.06]
 sets:put_bucket_s/3                                    2038664     0.09     4285746  [      2.10]
 net_kernel:dflag_unicode_io/1                          3904037     0.10     4527396  [      1.16]
 file:read_line/1                                       1950359     0.10     4691020  [      2.41]
 er_zauker_rpool:wait4Connection/0                      1496208     0.10     4692983  [      3.14]
 er_zauker_util:'-fun.redis_pusher/2-'/2                5268434     0.11     4994833  [      0.95]
 timer:sleep/1                                          1498079     0.11     5298124  [      3.54]
 io:request/2                                           3904037     0.15     6882064  [      1.76]
 er_zauker_util:scan_file_trigrams/3                    1950359     0.16     7236765  [      3.71]
 io:bc_req/3                                            3904037     0.16     7541809  [      1.93]
 er_zauker_util:get_all_lines/1                         1950359     0.17     7618488  [      3.91]
 sets:filter_bucket/4                                   6777094     0.17     7835182  [      1.16]
 erlang:monitor/2                                       3919642     0.18     8264336  [      2.11]
 gen_server:try_dispatch/3                             10583811     0.19     8908125  [      0.84]
 eredis_parser:buffer_size/1                           10564616     0.19     8980700  [      0.85]
 eredis_parser:init/0                                  10554723     0.20     9027347  [      0.86]
 eredis:q/2                                            10550261     0.21     9804868  [      0.93]
 gen_server:handle_common_reply/8                      10583811     0.21     9857430  [      0.93]
 eredis_client:safe_reply/2                            10552492     0.22    10243603  [      0.97]
 queue:in/2                                            10552492     0.22    10262600  [      0.97]
 eredis_parser:buffer_hd/1                             10563901     0.22    10340962  [      0.98]
 sets:maybe_expand/1                                    5270662     0.23    10389518  [      1.97]
 inet_tcp:send/2                                       10552492     0.23    10562472  [      1.00]
 eredis_parser:buffer_tl/1                             10559439     0.24    10916044  [      1.03]
 gen:call/4                                            12058930     0.25    11353703  [      0.94]
 queue:out/1                                           10552492     0.25    11458593  [      1.09]
 eredis_client:handle_call/3                           10553832     0.26    11818051  [      1.12]
 prim_inet:send_recv_reply/2                           10552492     0.28    12962324  [      1.23]
 erlang:port_get_data/1                                10552492     0.30    14020747  [      1.33]
 sets:fold_bucket/3                                     6774866     0.32    14750588  [      2.18]
 sets:update_bucket/3                                   5270662     0.32    14957000  [      2.84]
 sets:rehash/4                                          8328701     0.34    15833306  [      1.90]
 prim_inet:encode_opt_val/1                            10584702     0.35    16116383  [      1.52]
 gen_server:call/3                                     10561382     0.36    16441505  [      1.56]
 prim_inet:enc_opt_val/2                               21178328     0.36    16549323  [      0.78]
 prim_inet:ctl_cmd/3                                   10591844     0.36    16673016  [      1.57]
 eredis:call/3                                         10552492     0.38    17292106  [      1.64]
 eredis_parser:return_result/3                         10580240     0.39    17803183  [      1.68]
 erlang:'++'/2                                         12498843     0.39    17917257  [      1.43]
 erlang:port_control/3                                 10591844     0.40    18286497  [      1.73]
 inet:setopts/2                                        10580240     0.41    18941445  [      1.79]
 string:concat/2                                       10544010     0.43    19756361  [      1.87]
 eredis_parser:parse/2                                 10580240     0.43    19903719  [      1.88]
 eredis_parser:buffer_create/1                         21091591     0.44    20058897  [      0.95]
 prim_inet:send/3                                      10552492     0.44    20118076  [      1.91]
 gen_server:try_dispatch/4                             10583811     0.44    20324363  [      1.92]
 inet_db:lookup_socket/1                               10552492     0.44    20345402  [      1.93]
 erlang:iolist_to_binary/1                             21093822     0.46    21379784  [      1.01]
 eredis:'-fun.to_bulk/1-'/1                            31641410     0.49    22643582  [      0.72]
 gen_tcp:send/2                                        10552492     0.50    22978640  [      2.18]
 gen_server:try_handle_call/4                          12050040     0.51    23332474  [      1.94]
 eredis:'-fun.to_binary/1-'/1                          31641410     0.51    23410461  [      0.74]
 erlang:port_command/3                                 10552492     0.51    23618650  [      2.24]
 inet:'-setopts/2-lc$^0/1-0-'/1                        21160480     0.52    23772218  [      1.12]
 prim_inet:setopts/2                                   10584702     0.52    23826415  [      2.25]
 erlang:monitor/3                                      12050040     0.52    23966136  [      1.99]
 er_zauker_util:redis_pusher/2                          5268434     0.53    24252974  [      4.60]
 erlang:iolist_size/1                                  31643641     0.54    24978689  [      0.79]
 eredis_parser:parse_bulk/1                            10568363     0.54    25037320  [      2.37]
 gen_server:decode_msg/9                               22633851     0.56    25603173  [      1.13]
 eredis_client:handle_info/2                           10582471     0.56    26010394  [      2.46]
 io:execute_request/2                                   3904037     0.60    27454328  [      7.03]
 eredis_client:reply/2                                 10552492     0.63    28831562  [      2.73]
 erlang:send/3                                         12050040     0.67    30944439  [      2.57]
 gen_server:reply/2                                    12050040     0.67    31087741  [      2.58]
 eredis_parser:do_parse_multibulk/3                    10566847     0.68    31167044  [      2.95]
 eredis_client:handle_response/2                       10580240     0.71    32794254  [      3.10]
 erlang:integer_to_list/1                              42199704     0.76    35049561  [      0.83]
 eredis:create_multibulk/1                             10552492     0.77    35524091  [      3.37]
 eredis_parser:buffer_to_binary/1                      21091591     0.79    36574092  [      1.73]
 eredis_client:do_request/3                            10552492     0.83    38405599  [      3.64]
 erlang:list_to_binary/1                               31645872     0.89    41112656  [      1.30]
 gen_server:handle_msg/6                               22633851     0.90    41493707  [      1.83]
 string:substr/2                                       63029179     0.91    41948984  [      0.67]
 string:to_lower/1                                     63029179     0.91    42070308  [      0.67]
 sets:get_bucket/2                                     64769341     0.93    42748310  [      0.66]
 erlang:setelement/3                                   45307059     0.93    42893503  [      0.95]
 erlang:demonitor/2                                    15967450     0.99    45692192  [      2.86]
 eredis:to_binary/1                                    31641410     1.03    47478254  [      1.50]
 string:len/1                                          64977307     1.11    51113922  [      0.79]
 sets:get_bucket_s/2                                   65788673     1.14    52667991  [      0.80]
 erlang:phash/2                                        72078710     1.29    59475502  [      0.83]
 gen_server:loop/7                                     22634742     1.42    65651752  [      2.90]
 eredis:to_bulk/1                                      31641410     1.43    65825233  [      2.08]
 eredis_parser:get_newline_pos/1                       21111931     1.57    72527146  [      3.44]
 eredis_parser:parse_simple/1                          31651037     1.63    75225064  [      2.38]
 string:substr/3                                       63029179     1.74    80221928  [      1.27]
 erts_internal:port_control/3                          10591844     1.78    81986720  [      7.74]
 sets:get_slot/2                                       64769341     1.87    86300356  [      1.33]
 gen:do_call/4                                         12058930     2.02    92948030  [      7.71]
 lists:member/2                                        64793882     2.09    96518002  [      1.49]
 string:to_lower_char/1                               189087537     2.65   122152858  [      0.65]
 re:run/2                                              21111931     2.66   122829827  [      5.82]
 string:substr2/2                                     189087537     2.67   122951607  [      0.65]
 lists:map/2                                           84387804     3.04   140228404  [      1.66]
 sets:add_element/2                                    64769341     3.94   181651709  [      2.80]
 er_zauker_util:split_on_set/2                         64977307     5.35   246636356  [      3.80]
 string:substr1/2                                     252116716     5.99   276238747  [      1.10]
 string:'-to_lower/1-lc$^0/1-0-'/1                    252116716     8.47   390681759  [      1.55]
 erts_internal:port_command/3                          10552492    11.17   514992053  [     48.80]
 --------------------------------------------------  ----------  -------  ----------  [----------]
 Total:                                              2815793351  100.00%  4610342847  [      1.64]
 